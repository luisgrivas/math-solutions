\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{fancyhdr}
\usepackage{mathpazo,amsfonts}
\usepackage[margin=0.95in]{geometry}

\pagestyle{fancy}

\lhead{Problemario de Análisis}
\chead{Luis González Rivas}
\rhead{21 de junio de 2023}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}


\newenvironment{problem}[2][Problema]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\begin{document}

\begin{problem}{1} Sea $\mathcal{C}$ el conjunto de Cantor y $\lambda$ la medida de Lebesgue en $[0, 1]$. Pruebe las siguientes afirmaciones:
\begin{itemize}
    \item[a)] $\mathcal{C}$ tiene medida cero.
    \item[b)] Considera el subconjunto $\mathcal{F} \subset [0, 1]$ construido como $\mathcal{C}$, excepto que cada uno de los intervalos removidos en el n-ésimo paso tiene longitud $\alpha 3^{-n}$, con $0 < \alpha < 1$. Entonces $\mathcal{F}$ es cerrado, su complemento es denso $[0,1]$ y $\lambda(F) = 1 - \alpha$.
\end{itemize}
\end{problem}
\begin{proof}

\begin{itemize}
    \item[a)] Recuerde que $\mathcal{C}$ se define como sigue. Sea $P_0 = [0, 1]$ y definimos recursivamente a $P_{n+1}$ como el conjunto resultante de remover los tercios centrales de los intervalos de $P_n$. La familia resultante es la siguiente.
    \begin{eqnarray*}
    P_0  &=& [0, 1]\\
    P_1 &=& \left[0, \frac{1}{3}\right] \cup \left[\frac{2}{3}, 1\right] \\
    P_2 &=& \left[0, \frac{1}{9}\right]\cup \left[\frac{2}{9}, \frac{3}{9}\right]\cup \left[\frac{6}{9}, \frac{7}{9} \right]\cup \left[\frac{8}{9}, 1\right] \\
    & \vdots &
    \end{eqnarray*}
\end{itemize}
El conjunto de Cantor se define como 

$$\mathcal{C} = \bigcap_{n=0}^\infty P_n.$$

Note que $\mathcal{C}$ es cerrado y no vacío, pues es la intersección de una familia anidada de compactos. Como $P_n$ es medible para toda $n \geq 0$, se tiene que 
$$\lambda(\mathcal{C}) = \lambda\left(\bigcap_{n=0}^{\infty} P_n \right) = \lim_{n\to \infty}\lambda(P_n) =  \lim_{n\to \infty} \left(\frac{2}{3} \right)^n = 0 $$



\item[b)] Consideremos la sucesión $P_{n, \alpha}$ construida similarmente que la sucesión del inciso a), pero ahora removiendo los intervalos centrales de longitud  $\frac{\alpha}{3^n}$. Por definición, cada $P_{n, \alpha}$ es compacto y $P_{n+1} \subset P_n$ para toda $n\geq 0$, entonces

$$ \mathcal{F} = \bigcap_{n=0}^\infty P_{n, \alpha} \neq \emptyset.$$

Puesto que $\mathcal{F}$ es la intersección numerable de cerrados, este es cerrado. Por otro lado, observe que para $n \geq 1$, se tiene que
$$\lambda(P_{n, \alpha}) = 1 - \sum_{i=1}^{n}{ \alpha \frac{2^{i-1}}{3^i}} = 1 - \frac{\alpha}{3} \sum_{i=0}^{n-1}{ \left(\frac{2}{3}\right)^i} .$$

Luego, dado que cada $P_{n,\alpha}$ es medible, se tiene que 

$$\lambda(\mathcal{F}) = \lambda\left(\bigcap_{n=0}^{\infty} P_{n, \alpha} \right) = \lim_{n\to \infty}\lambda(P_{n, \alpha}) =  \lim_{n\to \infty}1 - \frac{\alpha}{3} \sum_{i=0}^{n-1}{ \left(\frac{2}{3}\right)^i} = 1 - \alpha.  $$

%% FALTA DENSIDAD
\end{proof}

\text{ }
%---------------------------------
\begin{problem}{2}  Considera el espacio de medida $([0, 1], \mathbf{\mathcal{B}}([0, 1]), \lambda)$. Supón que existe $E \in \mathbf{\mathcal{B}}$ y $\alpha \in (0, 1)$ que satisfacen 

$$ \lambda(E \cap J) \geq  \alpha \lambda(J)$$

para todo $J\subset [0, 1]$ subintervalo. Demuestra que $\lambda(E) = 1.$
\end{problem}
\begin{proof}
AVANZADO... FALTA TEMA DE DIFERENCIACION.
% Initially observe that �� has positive measure. Then use Lebesgue's differentiation theorem to obtain that 1��≥�� pointwise almost everywhere in [0,1]. Now if ��(��)<1 we would have ��([0,1]∖��)>0. But then we could find ��∈[0,1] so that ��∉�� and 1��(��)≥�� which implies that ��≤0 which cannot happen from premise of the problem.
\end{proof}
%---------------------------------

\begin{problem}{3} Si $m$ es una medida aditiva numerable definida en $\mathcal M$. Demuestre que 

\begin{itemize}
    \item[a)] Si $A, B \in \mathcal M$ y $A \subset B $, entonces $m A \leq m B$. 
    \item[b)] Sea $\{ E_n \}$ una sucesión en $\mathcal M$. Entonces 
    $$ m\left( \bigcup E_n \right) \leq \sum m E_n.$$
    \item[c)] Si $A \in \mathcal M$ es tal que $m A < \infty $, entonces $m \emptyset = 0.$
\end{itemize}
\end{problem}

\begin{proof}
\begin{itemize}
    \item[a)] Note que $B = (B \setminus A) \cup (A \cap B) = (B \setminus A) \cup A$. Entonces, $m B = m  (B \setminus A) + m A$. Como $m  (B \setminus A) \geq 0$, entonces $m B \geq m A.$
    \item[b)] Definamos la sucesión $\{ F_i \}_{i=1}^\infty$ como $F_1 = E_1$ y 
    $$F_n = E_n - \bigcup_{i=1}^{n-1} E_i.$$
Note que esta es una sucesión disjunta en $\mathcal M$, $F_i \subset E_i$ para toda $i \geq 1$ y 
$$\bigcup_{i=1}^{\infty} E_i  = \bigcup_{i=1}^{\infty} F_i.$$
Entonces 
\begin{eqnarray*}
    m \bigcup_{i=1}^{\infty} E_i  &=& m \bigcup_{i=1}^{\infty} F_i \\
    &=& \sum_{i=1}^{\infty} m F_i \\
    &\leq& \sum_{i=1}^{\infty} m E_i.
\end{eqnarray*}

\item[c)] Como $A = A \cup \emptyset$, entonces 
$m A = m A + m \emptyset$. Luego $m \emptyset = 0.$
\end{itemize}
\end{proof}

%---------------------------------
\begin{problem}{4} Sea $A$ el conjunto de números racionales en $[0, 1]$, y sea $\{I_n\}$ una colección finita de intervalos abiertos que cubren a $A$. Demuestre que $\sum l(I_k) \geq 1. $  
\end{problem}
\begin{proof}
Denotemos a los intervalos de la colección como $I_n = (a_n, b_n)$, para $i=1, \ldots, k$. Sean $a = \min \{ a_i: i=1, \ldots, k \}$ y $b = \max \{b_i: i=1, \ldots k \}$. Entonces $a \leq 0$ y $b \geq 1.$ Redefinamos el  índice de la colección de tal manera que $a_1 = a$ y $b_k = b$. Entonces 

\begin{eqnarray*}
     \sum_{n=1}^k l(I_n) &=&  \sum_{n=1}^k (b_n - a_n)\\
     &=& (b_1 - a_1) + \cdots + (b_k - a_k) \\
     &=& (b_k - a_1) + (b_1 - a_k) PENDIENTE
\end{eqnarray*}



\end{proof}

%---------------------------------
\begin{problem}{5} Dado cualquier conjunto $A$ y $\epsilon > 0$, existe un conjunto abierto $O$ tal que $A \subset O $ y $m^\ast O \leq m^\ast A + \epsilon$. Además, existe un conjunto $G \in \mathcal G_\delta$ tal que $A \subset G$ y $m^\ast A = m^\ast G$.
\end{problem}
\begin{proof}
Si $m^\ast A$ no es finito, entonces $O = \mathbb R$ satisface la desigualdad. Suponga pues, que $m^\ast A < \infty$. Sea $\{I_n\}$ una colección de intervalos abiertos que cubren a $A$ tal que 
$m^\ast A \leq \sum l(I_n) \leq m^\ast A + \epsilon.$ Este existe, por la definición de de la medida exterior. Definamos $O = \bigcup I_n$; este conjunto es abierto y $ A \subset O$. Más aún, por la definición de medida exterior,  $m^\ast O \leq \sum l(I_n)$, pues $\{ I_n \}$ es una colección de intervalos abiertos que cubren a $O$. Por tanto, $m^\ast O \leq m^\ast A + \epsilon$.

Para toda $n \in \mathbb N$, sea $O_n$ un abierto que cubre a $A$ tal que 
$m^\ast A + \frac{1}{n} \geq m^\ast O_n$. Sea $\epsilon > 0$. Por el principio de Arquímedes existe $k \in \mathbb N$ tal que $\frac{1}{k} < \epsilon$. Definamos $G = \bigcap O_n$. Este conjunto es $\mathcal G_\delta$ y 
$$m^\ast G \leq m^\ast O_k \leq m^\ast A + \frac{1}{k} < m^\ast A + \epsilon.$$

Como la elección de $\epsilon$ fue arbitraria y $m^\ast A \leq m^\ast G$, tenemos que $m^\ast G = m^\ast A.$
\end{proof}

%---------------------------------
\begin{problem}{6} Demuestre que, 
\begin{itemize}
    \item[a)] $m^\ast$ es invariante por traslaciones. 
    \item[b)] si $m^\ast A = 0$, entonces $m^\ast (A \cup B) = m^\ast B.$ 
\end{itemize} 
\end{problem}

\begin{proof}
    \begin{itemize}
        \item[a)] Sea $A$ un conjunto en $\mathbb R$. Sea $\{ I_n \}$ una colección de intervalos abiertos que cubren a $A$. Note que, para $k \in \mathbb R$, La $\{ I_n + k \}$ es una colección de intevalos abiertos que cubren a $A + k.$ Como $l(I_n) = l(I_n + k)$ para cualquier intervalo, entonces $m^\ast( A + k ) \leq  m^\ast A.$ Pero por simetría, si $\{ I_n \}$ es una colección de intervalos abiertos que cubren a $A + k$, entonces la colección $\{ I_n - k \}$ es una colección de intervalos abiertos que cubren a $A$. Luego, $ m^\ast A \leq  m^\ast( A + k ).$  Por tanto, $m^\ast( A + k ) = m^\ast A.$

        \item[b)] Como $B \subset A \cup B$, entonces $m^\ast B \leq m^\ast(A \cup B) \leq m^\ast A + m^\ast B = m^\ast B$. Por tanto, $m^\ast B = m^\ast(A \cup B)$
     \end{itemize}
\end{proof}

%---------------------------------
\begin{problem}{7} Da una sucesión decreciente $\{E_n \}$ de conjuntos medibles con $\emptyset  = \bigcap_{i=1}^\infty E_n $ y $m E_n = \infty $ para todo $n$.     
\end{problem}
\begin{proof}
Definamos la sucesión $\{ E_n \}$ como $E_n = \bigcup_{k=n}^\infty (k, k +\frac{1}{k})$. Note que esta sucesión es decreciente. Además, 
$$ m(E_n) = \sum_{k=n}^\infty m \left(k, k + \frac{1}{k} \right) = \sum_{k=n}^\infty \frac{1}{k} = \infty,$$
para toda $n.$ Afirmamos que $ E = \bigcap E_n = \emptyset$. Si $x \in E$, entonces $x \in E_n$ para toda $n.$ Por el principio de Arquímedes existe un entero $k$ tal que $k > x$. Entonces $x \notin E_n$ para $n \geq k$, lo cual una contradicción. Por tanto $E = \emptyset .$
\end{proof}

%---------------------------------------
\begin{problem}{8} Demuestre los siguientes lemas.
\begin{itemize}
    \item[a)] Dada una función medible $f$ en $[a, b]$ que toma valores $\pm \infty $ únicamente en un conjunto de medida cero, y dado $\epsilon > 0$, existe $M$ tal que $\lvert f \rvert \leq M$ excepto en un conjunto de medida menor que $\epsilon / 3.$
    \item[b)] Sea $f$ una función medible en $[a, b]$. Dado $M $ y $\epsilon > 0$, existe una función simple $\varphi$ tal que $\lvert f - \varphi \rvert  < \epsilon $ excepto donde $\lvert f \rvert \geq M .$ Si $m \leq f \leq M$, entonces podemos escoger a $\varphi$ de tal manera que $m \leq \varphi \leq M$. 
    \item[c)] Dada una función simple $\varphi$ en $[a, b]$, existe una función a pasos $g$ en $[a, b]$ tal que $g(x) = \varphi(x)$ excepto en un conjunto de medida menor que $\epsilon / 3$. 
\end{itemize}
\end{problem}
\begin{proof}
    \begin{itemize}
        \item[a)] Note que $A = \{x: f(x) = \infty \} = \bigcap_{n=1}^\infty \{x: f(x) > n\}$ y $ B = \bigcap_{n=1}^\infty \{ x: f(x) < -n \}$. Por hipótesis, $m A \cup B = 0$, por tanto, existe $k \in \mathbb N$ tal que $m \bigcap_{n=k}^\infty \{x: f(x) > n\} < \epsilon / 6$ y $m \bigcap_{n=k}^\infty \{ x: f(x) < -n \} < \epsilon / 6$. Entonces $\lvert f \rvert < k$ excepto en un conjunto de medida menor que $\epsilon / 3.$
        \item[b)] Sea $N$ el natural más pequeño tal que $r = \frac{2M}{N} < \epsilon.$ Sea $m = $ Definamos la siguiente partición del intervalo $[-M, M]$ como
        $$I_k = \left [-M + (k-1)r, -M +   k r \right), $$
para $k = 1, 2, \ldots, N-1$ e $I_N = [-M - (N-1) r, -M + Nr]$. Defina $A_k = f^{-1}(I_k)$. Puesto que $f$ es medible, cada $A_k$ es medible. Entonces podemos definir una función simple $\varphi:[a, b] \rightarrow \R $ como sigue.

$$\varphi(x) = \begin{cases}
-M + (k-1) r & \text{ si } x \in A_k \\
0 & \text{ de otro modo.}  
\end{cases} $$

Note que, si $x$ es tal que $-M \leq f(x) \leq M$, entonces $x \in A_k$ para alguna $k \in \{1, 2, \ldots, N\}$. Luego
$$\lvert f(x) - \varphi(x) \rvert = \lvert f(x) - (-M + (k-1)r) \rvert < r < \epsilon.$$

Si $m \leq f \leq M$, entonces podemos repetir la construcción anterior, pero haciendo $r = \frac{M - m}{N}$, donde $N$ es el natural más pequeño tal que $\frac{M - m}{N} < \epsilon.$

\item[c)] Si $\varphi$ toma $n$ valores distintos, sean $\{a_1, \ldots, a_n \}$ el conjunto de los distintos valores que toma $\varphi$; esto es, $\{a_1, \ldots, a_k \} = \varphi([a, b])$. Definamos para $k=1,2, \ldots n$, el conjunto $A_k = \varphi^{-1}(a_k)$. Dado que cada $A_k$ es medible, existe un abierto $O_k$ en $\R$ tal que $A_k \subset O_k$ y $m (O_k \setminus A_k) < \epsilon / 6n$. Cada $O_k$ es la unión numerable de intervalos abiertos disjuntos; es decir, 
$$O_k = \bigcup_{j=1}^\infty I_{j,k},$$
con $I_{r, k} \cap I_{s, k} = \emptyset $, para $r \neq s$. La colección $\mathcal{F} =  \{ I_{j, r} \}_{r \in [n],  j \in \N}$ es numerable y cubre a $[a, b]$. Puesto que $[a, b]$ es compacto, existe una subcolección finita de $\mathcal{F}$ que cubre a $[a, b]$, digamos

$$I_1, I_2, \ldots, I_p. $$

PENDIENTE

    \end{itemize}
\end{proof}

%---------------------------------------
\begin{problem}{9} Sea $f$ una función real definida en todo $\R$. Demostrar que el conjunto donde $f$ es continua es $\mathcal{G}_\delta$. 
\end{problem}

En lo siguiente, la bola centrada en $x$ con radio $r > 0$ es el conjunto $B(x, r) = \{y \in \R: \lvert x - y \lvert < r \}$. Daremos por hecho que este es un conjunto abierto.
\begin{proof}
Sea $E = \{x \in \R : f \text{ es continua en } x \}$. Para cada $n \in \N$ sea 
$$A_n = \bigcup_{x\in E} B(x, \delta_{x, n}), $$
donde $B(x, \delta_{x, n})$ satisface  
$$ f[B(x, \delta_{x, n})] \subset B(f(x), 1/n), $$
para toda $x \in E$ y toda $n \in \N.$ Observe que $A_n$ es abierto, ya que es la unión de abiertos. Definamos ahora $G = \bigcap_{n=1}^{\infty} A_n$. Este es un conjunto $\mathcal{G}_\delta$ y observe que $E \subset G$. Demostraremos que $G \subset E$.

Sea $y \in G$ y sea $\epsilon > 0.$ Entonces existe $k \in \N$ tal que $1/k < \epsilon/ 2 $. Como $y \in G$, entonces $y \in A_k$. Entonces existe $x \in E$ tal que $y \in B(x, \delta_{x, k})$. Como $B(x, \delta_{x, k})$ es abierto, existe $\delta > 0 $ tal que $B(y, \delta) \subset B(x, \delta_{x, k})$. Entonces 
$$f[B(y, \delta)] \subset f[B(x, \delta_{x, k})] \subset B(f(x), 1/k). $$
Pero $ B(f(x), 1/k) \subset B(f(y), \epsilon)$, ya que si $z \in B(f(x), 1/k)$, entonces $$\lvert z - f(y) \lvert \leq \lvert z - f(x) \lvert + \lvert f(x) - f(y) \lvert < 1/k + 1/k < \epsilon.$$
Luego $f[B(y, \delta)] \subset B(f(y), \epsilon)$. Hemos probado que $f$ es continua en $y$. Por tanto $G = E$.
\end{proof}

%---------------------------------
\begin{problem}{10} Sea $T$ la función ternaria de Cantor y defina $f$ como $f(x) = T(x) + x.$
\begin{itemize}
    \item[a)] Demuestre que $f$ es un homeomorfismo de $[0, 1]$ sobre $[0, 2].$ 
    \item[b)] Demuestre que $f$ mapeo al conjunto de Cantor a un conjunto $F$ de medida 1.
    \item[c)] Sea $g = f^{-1}$. Demuestre que existe un conjunto medible $A$ tal que $g^{-1}(A)$ es no medible.
    \item[d)] Demuestre que existe un conjunto medible que \textbf{no es} Borel medible. 
\end{itemize}
\end{problem}

%---------------------------------
\begin{problem}{11}
Sea $F$ un conjunto cerrado en $\R$ y $f: F \rightarrow \R$ una función continua. Demuestre que existe una función continua $g$ definida en $\R$ tal que $g\mid_F = f.$
\end{problem}
\begin{proof}
Sea $O = F^c$. Note que $O$ es un abierto en $\R$. Entonces $O$ se puede expresar como la unión de una colección numerable \textbf{disjunta} $\{ (a_n, b_b) \}$ de intervalos abiertos. Definamos a $g$ de la siguiente manera. Si $x \in F$, entonces $g(x) = f(x);$ si $x \in (a_n, b_n)$, con $-\infty < a_n, b_n < \infty$, entonces

$$g(x) = \frac{f(b_n) - f(a_n)}{b_n - a_n} (x - a_n) + f(a_n);$$
y si $x \in (a_n, b_n)$ con $a_n = -\infty$ o $b_n = \infty$, entonces
$$ g(x) = f(b_n) \text{ o } g(x) = f(a_n), \text{ respectivamente.}$$
Es claro que $g\mid_F = f.$ Para demostrar que $g$ es continua en $\R$, solo hace falta demostrarlo en alguno de los puntos interantes: $\{ a_1, b_1, a_2, b_2 \ldots \}$. Lo probaremos solo para los puntos $a_k \neq - \infty$, siendo el otro caso similar. Sea $\epsilon > 0$. Dado que $f$ es continua en $F$, existe un $\delta_1 > 0$ tal que
$$\lvert f(x) - f(a_k) \rvert < \epsilon/2 $$

FALTAN COSAS
\end{proof}

%---------------------------------
\begin{problem}{12}
Demuestre que el número real $l$ es el límite superior de una sucesión $(x_n)$ si y solo si (i) dado $\epsilon > 0 $, existe $n$ tal que $x_k < l + \epsilon$ para todo $k \geq n$; y (ii) dado $\epsilon > 0$ y $n\in \N$, existe $k \geq n$ tal que $x_k > l - \epsilon$. 
\end{problem}
\begin{proof} Recuerde que $\limsup x_n = \inf_{n} \sup_{k \geq n} x_k$.
    \begin{itemize}
        \item[i)] Note que $l + \epsilon$ \textbf{no es} cota inferior del conjunto $\{ \sup_{k \geq n} x_k:  n \in \N \}$, por lo que existe $m$ tal que 
        $\sup_{k \geq m} x_k < l + \epsilon.$ Pero por definición, $x_k \leq \sup_{k \geq m} x_k$ para toda $k \geq m$. La desigualdad deseada se sigue de las dos desigualdades anteriores. 
        \item[ii)] Suponga, por el contrario, que $x_k \leq l - \epsilon$ para toda $k \geq n.$ Entonces $\sup_{k \geq m} x_k \leq l - \epsilon$ para toda $m \geq n.$ Luego, $l = \limsup x_k \leq \inf_{m \geq n} \sup_{k \geq m} x_k \leq l - \epsilon.$ Lo cual, es una contradicción.
    \end{itemize} 
\end{proof}

%---------------------------------
\begin{problem}{13} Suponga que $(X, S, \mu)$ es un espacio de medida y $\{f_n\}_{n\in \N}$ es una sucesión de funciones $S$-medibles de $X$ en $\R$ tales que $\sum_{k=1}^\infty \int \lvert f_k \rvert d \mu < \infty$. Demuestre que existe un conjunto $E \in S$ tal que $\mu(X \setminus E) = 0$ y $\lim_{k \to \infty} f_k(x) = 0$ para toda $x \in E.$ 
\end{problem}

\begin{problem}{14} Sea $(X, \Sigma, \mu)$ un espacio de medida. Sea $\{f_n\}_{n \in \N}$ una sucesión de funciones con la propiead $f_n \in L^1(X, \Sigma, \mu)$ para toda $n \in \N$. Suponiendo que
$$\sum_{n=1}^\infty \int_{X} \lvert f_n \rvert d \mu < \infty,$$
prueba que existe una función $f \in L^1(X, \Sigma, \mu)$ tal que $\sum_{n=1}^\infty f_n$
converge a $f$ casi dondequiera con respecto a la medida $\mu$ y que 
$$\int_X f d \mu = \sum_{n=1}^\infty \int_X f_n d \mu.$$
\end{problem}
\begin{proof}
    De la primera desigualdad se deduce que 
    $$\lim_{n \to \infty} \int_X \lvert f_n \rvert d \mu  = 0.$$
\end{proof}




\end{document}